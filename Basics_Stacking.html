<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Stacking - Podstawy dla początkujących">
<meta name="keywords" content="">
<title>Zrozumieć Stackowanie - HAMAL</title>
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="logo.ico">

<style type="text/css">
<!--


body {
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	background-color: #202228;
}
.style1 {
	color: #909298;
	font-family: Verdana;
	font-size: 14px;
}
.style-dzial {
	color: #FFFFFF;
	font-family: Arial;
	font-size:22px;
	letter-spacing:1.0pt;
}
.style-dzial-2 {
	color: #FFFFFF;
	font-family: Arial;
	font-size:14px;
	letter-spacing:1.0pt;
}
.style-link {
	color: #CFD1D6;
	font-family: Verdana;
	font-size: 14px;
}
.style-Hbr {
	color: #202228;
	font-family: Verdana;
	font-size: 2px;
}
.style-br {
	color: #858893;
	font-family: Verdana;
	font-size: 3px;
}
.style-prop {
	color: #66FFFF;
	font-family: Verdana;
	font-size: 14px;
	letter-spacing:3.0pt
}
.style-stopka {
	color: #DDDDDD;
	font-family: Arial;
	font-size: 14px;
	letter-spacing:4.0pt
}
.style-anim {
	color: #66ffff;
	font-family: Arial;
	font-size: 10px;
	letter-spacing:2.5pt
}
.style-anim1 {
	color: #ACDEDE;
	font-family: Verdana;
	font-size: 14px;
}
.style-anim2 {
	color: #66ffff;
	font-family: Arial;
	font-size: 12px;
	letter-spacing:2.5pt
}
.style-wgwop {
	color: #ffffff;
	font-family: Arial;
	font-size: 12px;
	letter-spacing:1.7pt
}
.style-wersja {
	color: #98B0BC;
	font-family: Verdana;
	font-size: 14px;
}
.style-empir {
	color: #000000;
	font-family: Verdana;
	font-size: 14px;
}


a:link {
	text-decoration: none;
}
a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}

-->
</style>


</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="100%" height="130" align="center" bgcolor="#202228">
<span style='font-size:32.0pt;font-family:"Book antiqua";color:#CFD1D6;letter-spacing:6.0pt'>Zrozumieć STACKOWANIE</span><br>
<span class="style-Hbr">.</span><br>
<span style='font-size:26.0pt;font-family:"Book antiqua";color:#CFD1D6;letter-spacing:6.0pt'>Podstawy dla początkujących</span>
</td>
</tr>
<tr><td width="100%" height="2" bgcolor="#CFD1D6"></td></tr>
<tr><td width="100%" height="1" bgcolor="#000000"></td></tr>
<tr>
<td width="100%" align="center" bgcolor="#303236">

<span class="style-br">.</span><br>
<div align="center"><span class="style-link">26-04-2024</span></div>

<table border="0" cellpadding="10" cellspacing="0">
<tr>
<td width="960" style="text-align: justify">
<span class="style1">
Dawnej, gdy fotografowano na kliszy, ograniczeniem były właściwości jej ziarna, gdy zaczęto fotografować cyfrowo, ograniczeniem stały się właściwości elektroniki. Aby zmniejszyć wpływ niedoskonałości akwizycji elektronicznej na obraz końcowy, wymyślono łączenie wielu mniej doskonałych obrazów w jeden, posiadający o wiele lepszą charakterystykę. To właśnie ten proces łączenia nazywamy stackowaniem.<br>
Aby stackowanie miało sens, obrazowaniu winy zostać poddane obiekty statyczne, lub seria obrazów winna zostać pobrana na tyle szybko, aby nie dokonała się żadna zmiana w obrazowanym obiekcie. Jedyną dostrzegalną różnicą na poszczególnych obrazach winny być niedoskonałości układu obrazującego.<br>
<br>
<hr style="border: 0px; background: #66FFFF; height: 2px;">
<span class="style-br">.</span><br>
<span class="style-anim1">
Ponieważ opis zawiera wiele animacji, które dla wygody analizy często są dość powolne, dla lepszego odróżnienia ich od grafiki statycznej, zostały oznaczone napisem<span class="style-anim2"><b> | animacja GIF |</b></span>.<br>
<span class="style-br">.</span><br>
Prezentowane animacje zostały zoptymalizowane pod ekrany telefonów z uwagi na fakt, iż gros użytkowników korzysta z tego rodzaju urządzeń. Dla lepszej wygody oglądania na ekranie monitora PC polecam wcisnąć Ctrl i pokręcić scroll-em myszki zmniejszając skalę powiększenia ekranu przeglądarki.<br>
</span>
<span class="style-br">.</span><br>
<span class="style-wersja">Pod dłuższymi i bardziej złożonymi animacjami znajdują się odnośniki:<br></span>
<span class="style-wersja"><b>WERSJA VIDEO</b> - stanowi wersję video animacji, co umożliwia zatrzymywanie, cofanie, przewijanie akcji.<br></span>
<span class="style-br">.</span><br>
<hr style="border: 0px; background: #66FFFF; height: 2px;">
<br>
Wiedza w miarę możliwości jest stopniowana w stosownej kolejności, powoli wtajemniczając Was w kolejne zagadnienia.<br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="WD"></a>
<br>
Opracowanie jest podzielone na kilka podstawowych działów, kliknij stosowną nazwę, aby zostać przeniesionym do interesującej Cię sekcji.<br>
<br>
<a href="#IDEA" ><span class="style-link">&#10148; IDEA STACKOWANIA</span></a><br>
<a href="#ALG" ><span class="style-link">&#10148; ALGORYTMY</span></a><br>
<a href="#HPA" ><span class="style-link">&#10148; HOT PIXEL i ALGORYTMY</span></a><br>
<a href="#WYR" ><span class="style-link">&#10148; WYRÓWNANIE</span></a><br>
<a href="#HOT" ><span class="style-link">&#10148; CO TO ZA ŚLADY?</span></a><br>
<a href="#DITH" ><span class="style-link">&#10148; DITHERING</span></a><br>
<a href="#DRIZ" ><span class="style-link">&#10148; DRIZZLE</span></a><br>
<a href="#NOR" ><span class="style-link">&#10148; NORMALIZACJA</span></a><br>
<a href="#KAL" ><span class="style-link">&#10148; KALIBRACJA</span></a><br>
<a href="#0-65535" ><span class="style-link">&#10148; 16bit - od 0 do 65535</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="IDEA"></a>
<br>







<span class="style-dzial">&#10074; IDEA STACKOWANIA</span><br>
<br>
<br>
Astrofotografia nieustannie operuje w ciemnościach, daleko jej do zdjęć z wakacji, gdzie wszystko w jedną chwilę jest pięknie naświetlone.<br>
<br>
Jak szybko, łatwo i przyjemnie powstaje w ułamku sekundy piękne wakacyjne zdjęcie.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/00-Basics-Stacking--01-Summer-holiday-photography-anim.gif" border="0" alt=""><br>
<br>
Astrofotografia, obrazując słabe obiekty kosmosu, męczy się niebywale, przebijając się przez kolejne niedoskonałości układu obrazującego, aby na koniec, w niedoskonałej formie, wydusić z siebie obraz stanowiący namiastkę obrazowanego obiektu.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/00-Basics-Stacking--02-Astrophotography-anim.gif" border="0" alt=""><br>
<br>
Brodząc nieustannie w ciemnych partiach obrazu, będąc podatną na wszelkie ułomności układu obrazującego, astrofotografia zmusza nas do szukania sposobu na pozbycie się wad obrazu pochodzących z urządzeń obrazujących. Jednym ze sposobów umożliwiających pozbycie się lub zmniejszenie wad obrazu jest wykonanie większej liczby obrazowań i poddanie ich stackowaniu. Proces stackowania sprawia, że natywna informacja stanowiąca obrazowany obiekt wybija się ponad wady układu obrazującego. W fotografii ekstremalnej, jaką jest astrofotografia, dodatkowo dochodzą zmienne w czasie warunki obrazowania, jeszcze dodatkowo dokładające od siebie kolejne zmienne anomalie na poszczególnych obrazach, stackując, ich też chcemy się pozbyć. Inną kwestią jest to, że gdy fotografujemy rodzinę na plaży, ilość światła docierającego do zestawu obrazującego jest tak wielka, że ułomności zestawu obrazującego stają się marginalne. Jednak gdy fotografujemy wieczorem lub uprawiamy astrofotografię nocą, fotografowane obiekty przesyłają do zestawu obrazującego znikome ilości światła.<br>
<br>
Stackowanie polega na połączeniu za pomocą dedykowanego oprogramowania wielu obrazów w jeden, stanowiący wypadkową tych wszystkich obrazów.<br>
<br>
A teraz o samym procesie stackowania. <br>
<br>
Obraz cyfrowy składa się z pikseli, stackując obrazy stackujemy ich poszczególne piksele.<br>
<br>
Każdy piksel posiada swoje parametry, stackowanie analizuje dany piksel na wszystkich zdjęciach i ustala, jaka będzie jego wartość docelowa.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/01-Basics-Stacking--Idea-01-anim.gif" border="0" alt=""><br>
<br>
Załóżmy, że fotografujemy obiekt, jego wartości na danym pikselu to najczęściej 7, ale czasami, z powodu szumu lub innej fiksacji pojawia się 20, na chwilę zapalił się jako hot piksel osiągając wartość 253, ale potem ponownie 100 razy uzyskał 7, aby na chwilę z powodu chmurki mieć wartości 2,1,3, i ponownie 100 razy uzyskał 7. Oczywiste dla nas jest, że prawidłowa wartość tego piksela to 7.<br>
To samo robi dla nas stackowanie, stosując stosowne algorytmy, jakby szuka wartości najczęściej występującej, jako uznanej za wartość prawidłową.<br>
<span class="style-br">.</span><br>
W idealnych warunkach 100x wysłany sygnał o wartości 7 zostanie 100x pobrany jako wartość 7 i 100x wyświetlony jako wartość 7.<br>
<span class="style-br">.</span><br>
W niedoskonałym świecie rzeczywistym wyemitowany przez fotografowany obiekt sygnał o wartości 7 ani nie dotrze za każdym razem do obiektywu jako 7, ani przez niedoskonałości urządzenia obrazującego nie zostanie pobrany jako wartość 7. Na tym polega problem. <br>
Raz dotrze jako 5, a kamera z powodu swoich ułomności pobierze go jako 9, innym razem dotrze jako 9, kamera z powodu swoich ułomności pobierze go jako 6, innym razem dotrze jako 6, kamera z powodu swoich ułomności pobierze go jako 7. Tak czy inaczej, po wielu, wielu próbach, kręcąc się nieustannie w okolicy rzeczywistej wartości 7, po zestackowaniu, uzyskamy 7, lub wartość mocno do niej zbliżoną, co sprawi, że dzięki stackowaniu zbliżymy się do rzeczywistej wartości obrazowanego obiektu. Cały czas oczywiście mowa o jednym fragmencie obiektu i jednym pikselu kadru, który ten fragment obiektu zawiera.<br>
<span class="style-br">.</span><br>
Matryca/Sensor składa się z wielu pikseli, a każdy piksel to miernik światła. Gdy na dany piksel pada dany fragment obrazu generowanego przez obiektyw, nabiera on pewnej wartości, która jest pobierana z chwilą odczytu obrazu. W idealnym świecie wszystkie piksele matrycy w momencie początkowym posiadają wartość zero, następnie z chwilą naświetlania zdjęcia nabierają stosownej wartości i jest ona precyzyjnie odczytywana, a następnie prezentowana na obrazie wynikowym. Niestety, w rzeczywistym świecie, w momencie początkowym każdy piksel posiada już jakąś wartość, każdy inną, zależną od tego, jaki się urodził w produkcji, mało tego, gdy już każdy z nich nabierze stosownej wartości, zależnej od obrazowanego miejsca, to dodatkowo z chwilą odczytu dokładają nam się kolejne przypadkowe przesunięcia, kończy się to tym, że finalnie, zamiast precyzyjnie pobrać wartość jasności danego miejsca obrazu, posiadamy jedynie jego przybliżoną wartość. Tyczy się to głównie fotografii ekstremalnej, jaką jest astrofotografia, zdjęcia wykonywane z wakacji na plaży nie borykają się z takimi problemami, ponieważ stosunek naszych rozbieżności względem skali docierającego do piksela sygnału, jest na tyle znikomy, że nie wpływa na obraz wynikowy.<br>
<br>
Przejdźmy do animacji, aby zobrazować zagadnienie. <br>
<br>
Prezentowane poniżej animacje oddają ideę zagadnienia, nie będą ściśle odwzorowywać procesów zachodzących w czasie stackowania.<br>
<br>
Poniższa animacja przedstawia analizę poszczególnych pikseli, poszczególnych pięciu obrazów i powstawanie stacku.<br>
Jest to wersja uproszczona oparta o pięć identycznych obrazów z jednorodnym kolorem pikseli, ma charakter zapoznawczy.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/01-Basics-Stacking--Idea-02-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/01-Basics-Stacking--Idea-02-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Skoro już wiadomo, jak przebiega prezentacja, urealnimy animację, wykorzystując bardziej rzeczywisty przykład, posiadający zróżnicowane kolory na poszczególnych obrazach, symulując stackowany szum.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/01-Basics-Stacking--Idea-03-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/01-Basics-Stacking--Idea-03-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
<br>
Jakim cudem z tej szachownicy wyszło jednolite szare tło? Przekonacie się w następnym dziale. :)<br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="ALG"></a>
<br>







<span class="style-dzial">&#10074; ALGORYTMY</span><br>
<br>
<br>
Do stackowania można użyć różnych algorytmów, np.: Sum, Average, Median, Sigma Clip, SD Mask, uzyskując różne wyniki końcowe.<br>
My skupimy się na dwóch najbardziej klasycznych (średnia - Average, mediana - Median), próbując zrozumieć zasadę ich działania oraz konsekwencje wynikające z ich zastosowania.<br>
<br>
Zastosowane w animacjach kolory pikseli są tak naprawdę różnym poziomem w skali szarości 8 bitowej grafiki w przedziale od 0 do 255, gdzie 0 oznacza piksel całkowicie czarny, 255 oznacza piksel całkowicie biały, a wszelkie wartości pośrednie, to różnej jasności/ciemności szary.<br>
<br>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-0-255.png" border="0" alt=""><br>
<br>
<hr>
<br>
<div align="center"><span class="style-link"><strong>AVERAGE - Średnia</strong></span><br></div>
<br>
<strong>AVERAGE</strong> - średnia | Niniejszy algorytm polega na dodaniu wszystkich wartości, a następnie podzieleniu otrzymanej sumy przez liczbę tych wartości.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-Avrage-short-01-anim.gif" border="0" alt=""><br>
<br>
<br>
<strong>AVERAGE</strong> - średnia | Zobacz jak niniejszy algorytm wpływa na wynik stackowania.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-Avrage-02-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/02-Basics-Stacking--Process-Avrage-02-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Finalny obraz.<br>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-Avrage-final-image.png" border="0" alt=""><br>
<br>
<hr>
<br>
<div align="center"><span class="style-link"><strong>MEDIAN - Mediana</strong></span><br></div>
<br>
<strong>MEDIAN</strong> - mediana | Niniejszy algorytm  polega na uszeregowaniu zbioru wartości od najmniejszej do największej i wyznaczeniu środkowej pozycji w szeregu.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-Median-short-03-anim.gif" border="0" alt=""><br>
<br>
<br>
<strong>MEDIAN</strong> - mediana | Zobacz jak niniejszy algorytm wpływa na wynik stackowania.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-Median-04-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/02-Basics-Stacking--Process-Median-04-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Finalny obraz.<br>
<img src="images/Basics_Stacking/02-Basics-Stacking--Process-Median-final-image.png" border="0" alt=""><br>
<br>
<br>
Gdy układ obrazujący robi co może, aby do natywnego obrazu dodać coś od siebie, czy to zawyżając, czy to zaniżając wartość pierwotną, my i tak dojdziemy do tego, ile ona winna wynosić, stackując obrazy.<br>
<br>
Sposób uzyskania wyniku odmienny, jednak wynik końcowy w naszym prostym przykładzie taki sam, ale tylko chwilowo, przejdźmy do następnego działu... :)<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="HPA"></a>
<br>







<span class="style-dzial">&#10074; HOT PIXEL i ALGORYTMY</span><br>
<br>
<br>
Bardzo często początkujący słyszą od bardziej doświadczonych kolegów radę, aby stackowali materiał medianą, ponieważ mediana pozbędzie się hot pikseli. Zobaczmy zatem, jak wygląda porównanie algorytmu średnia (Average) i mediana (Median) w walce z hotpikselowym szkodnikiem.<br>
<br>
<hr>
<br>
<div align="center"><span class="style-link"><strong>hot pixels - AVERAGE - średnia</strong></span><br></div>
<br>
Stacking &#38; hot pixels - AVERAGE<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/03-Basics-Stacking--Av-Hot-Pix-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/03-Basics-Stacking--Av-Hot-Pix-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Jak widzimy, hot piksel swoją wysoką wartością, biorąc czynny udział w obliczaniu wartości wynikowego piksela, namieszał nam i spowodował, że mamy ślad po hot pikselu na stacku końcowym.<br>
<span class="style-br">.</span><br>
Finalny obraz.<br>
<img src="images/Basics_Stacking/03-Basics-Stacking--Av-Hot-Pix-final-image.png" border="0" alt=""><br>
<br>
<hr>
<br>
<div align="center"><span class="style-link"><strong>hot pixels - MEDIAN - mediana</strong></span><br></div>
<br>
Stacking &#38; hot pixels - MEDIAN<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/03-Basics-Stacking--Med-Hot-Pix-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/03-Basics-Stacking--Med-Hot-Pix-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Jak widzimy, hot piksel ze swoją wysoką wartością, nie biorąc czynnego udziału w ustalaniu wartości wynikowego piksela, przepadł i nie pozostawił śladu swojej obecności na stacku końcowym.<br>
Finalny obraz.<br>
<img src="images/Basics_Stacking/03-Basics-Stacking--Med-Hot-Pix-final-image.png" border="0" alt=""><br>
<br>
<hr>
<br>
<div align="center"><span class="style-link"><strong>hot pixels - AVERAGE vs MEDIAN</strong></span><br></div>
<br>
Porównanie zachowania się obu algorytmów wobec hot piksela na jednej animacji.<br>
<span class="style-br">.</span><br>
AVERAGE potem MEDIAN.<br>
<span class="style-br">.</span><br>
Stacking &#38; hot pixels - AVERAGE vs MEDIAN<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/03-Basics-Stacking--Av-Med-Hot-Pix-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/03-Basics-Stacking--Av-Med-Hot-Pix-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Porównanie stacków uzyskanych za pomocą obu algorytmów.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/03-Basics-Stacking--Av-Med-Hot-Pix-final-image.png" border="0" alt=""><br>
<br>
<br>
Równoległe porównanie zachowania obu algorytmów wobec hot piksela na jednej animacji.<br>
<span class="style-br">.</span><br>
AVERAGE oraz MEDIAN - równolegle.<br>
<span class="style-br">.</span><br>
Stacking &#38; hot pixels - AVERAGE vs MEDIAN<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/03-Basics-Stacking--Av--Med-Hot-Pix-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/03-Basics-Stacking--Av--Med-Hot-Pix-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Porównanie finalnych obrazów obu algorytmów.<br>
<img src="images/Basics_Stacking/03-Basics-Stacking--Av--Med-Hot-Pix-final-image.png" border="0" alt=""><br>
<br>
Rozwinięciem niniejszego zagadnienia jest opis w dziale <a href="#HOT" ><span class="style-link"><u>CO TO ZA ŚLADY</u></span></a>, gdyż bywają takie sytuacje, że i Mediana sobie nie poradzi.<br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="WYR"></a>
<br>








<span class="style-dzial">&#10074; WYRÓWNANIE</span><br>
<br>
Bardzo często, zwłaszcza w przypadku początkujących adeptów astrofotografii, obraz w czasie sesji przemieszcza się po kadrze.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-01-anim.gif" border="0" alt=""><br>
<br>
Dlaczego? Ponieważ zestaw astrofotograficzny przy każdym kolejnym obrazowaniu trafia w trochę inny rejon nieba.<br>
Dlaczego? Przyczyny bywają różne, od niedokładnego prowadzenia przez montaż poczynając, na ugięciach optyki kończąc.
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-02-anim.gif" border="0" alt=""><br>
<br>
Aby móc poddać rzeczone obrazy prawidłowemu stackowaniu, naszym zadaniem jest wykryć na obrazach stałe punkty odniesienia, i się ich &#34;uczepić&#34; ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-03-anim.gif" border="0" alt=""><br>
<br>
... aby następnie wyrównać wszystkie obrazy za pomocą i względem tych punktów.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-04-anim.gif" border="0" alt=""><br>
<br>
Dopiero tak wyrównane względem siebie obrazy można poddać stackowaniu, aby uzyskać poniższy wynik.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-05.png" border="0" alt=""><br>
<br>
Gdyby jednak takie migrujące obrazy zestackować bez wyrównania ich względem siebie, uzyskany efekt będzie wyglądał jak poniżej.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-06.png" border="0" alt=""><br>
<br>
<br>
<hr style="border: 0px; background: #CFD1D6; height: 1px;">
<br>
<br>
A teraz precyzyjniej, na wycinku kadru.<br>
<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04a-Basics-Stacking--Aligning-frame-07-anim.gif" border="0" alt=""><br>
<br>
Obraz w czasie sesji migruje po kadrze.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-01-anim.gif" border="0" alt=""><br>
<br>
Aby móc poddać rzeczone obrazy prawidłowemu stackowaniu, naszym zadaniem jest wykryć na obrazach stałe punkty odniesienia, i się ich &#34;uczepić&#34; ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-02-anim.gif" border="0" alt=""><br>
<br>
... i wyrównać wszystkie obrazy względem punktu odniesienia.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-03-anim.gif" border="0" alt=""><br>
<br>
W procesie takiego wyrównywania powstaje coś w rodzaju rozłożonej talii kart. Część powierzchni się pokrywa, a część wystaje po bokach.<br>
<span class="style-br">.</span><br>
Powstaje obszar całkowity (obejmujący najdalej wysunięte brzegi wszystkich obrazów) oraz obszar wspólny (zawierający rejon przecinający wszystkie obrazy na stosie).<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-04-anim.gif" border="0" alt=""><br>
<br>
Istnieje możliwość stackowania obszaru całkowitego ...<br>
<br>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-05.png" border="0" alt=""><br>
<br>
... jednak wskazane jest stackowanie obszaru wspólnego z uwagi na fakt, że tylko w nim wszystkie piksele mają pokrycie we wszystkich obrazach podlegających stackowaniu.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-06-anim.gif" border="0" alt=""><br>
<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-07-anim.gif" border="0" alt=""><br>
<br>
No i został nam ogryzek. :)<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-08.png" border="0" alt=""><br>
<br>
Gdyby jednak zestackować obrazy bez wyrównania ich na gwiazdę, uzyskany efekt będzie taki jak poniżej.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-09.png" border="0" alt=""><br>
<br>
Podsumowując cały proces wyrównywania... :)<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/04-Basics-Stacking--Aligning-10-anim.gif" border="0" alt=""><br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="HOT"></a>
<br>









<span class="style-dzial">&#10074; CO TO ZA ŚLADY?</span><br>
<br>
Co to za ślady/wzorki? &nbsp;Zadają często takie pytanie niedoświadczeni adepci sztuki astrofotografii.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-00-anim.gif" border="0" alt=""><br>
<br>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-00.png" border="0" alt=""><br>
<br>
Mają oczywiście na myśli wzory, które narysowały im na końcowym stacku hot piksele, nie zdając sobie sprawy z istoty ich pochodzenia.<br>
<br>
Spróbuję w tym dziale wyjaśnić, jak do tego dochodzi.<br>
<br>
Mamy przykładowy kadr. Są gwiazdy i są hot piksele.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-01-frame.png" border="0" alt=""><br>
<br>
W czasie sesji kadr nam lekko migruje. Przyczyny bywają różne, od niedokładnego prowadzenia przez montaż poczynając, na ugięciach optyki kończąc. A nie o tym ten wątek :) W czasie sesji kadr nam lekko migruje ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-02-frame-anim.gif" border="0" alt=""><br>
<br>
... ponieważ zestaw astrofotograficzny przy każdej kolejnym zdjęciu trafia w trochę inny rejon nieba. Wraz z migracją kadru migrują też hot piksele.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-03-frame-anim.gif" border="0" alt=""><br>
<br>
Jeśli zestackujemy takie obrazy bez ich wyrównywania na gwiazdy, wtedy uzyskamy poniższy wynik ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-04-frame.png" border="0" alt=""><br>
<br>
... ale już po wyrównaniu wszystkich obrazów na gwiazdy widzimy, że gwiazdy tkwią nieruchomo, a hot piksele się poruszają.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-05-frame-anim.gif" border="0" alt=""><br>
<br>
- I fajnie, stwierdzicie, ale skąd krechy???<br>
<br>
A bądźcie uprzejmi prześledzić drogę, jaką pokonują hot piksele :)<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-06-frame-anim.gif" border="0" alt=""><br>
<br>
Po zestackowniu takiego zestawu obrazów za pomocą algorytmu - średnia (Average), uzyskamy wynik jak poniżej.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-07-frame.png" border="0" alt=""><br>
<br>
Oczywiście po zastosowaniu algorytmu - mediana (Median), uzyskamy już taki wynik.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-08-frame.png" border="0" alt=""><br>
<br>
Dlaczego przy stackowaniu algorytmem średnia (Average) hot piksele nie znikają, a przy stackowaniu algorytmem mediana (Median) hot piksele znikają? Zobaczmy.<br><a name="HOTa"></a>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-08-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/05-Basics-Stacking--Patterns-08-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Aby jeszcze bardziej urealnić przykład, użyjmy obrazów o zróżnicowanych pikselach.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-09-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/05-Basics-Stacking--Patterns-09-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Przykłady dla czytelności bazują na 5 obrazach, stackując, wykorzystujemy zestawy składające się z setek, czasem tysięcy pikseli. Mediana jak widać, doskonale nadaje się do pozbywania się wszelkiej przypadkowej skrajności zawartej w parametrze pikseli. Czy to będzie anomalia ciemna, czy jasna, efekt będzie ten sam, w algorytmie Średnia (Average), wypaczy ona wynik końcowy, a w Medianie (Median), przepadnie z kretesem. :)<br>
<br>
Jednak ...<br>
<br>
Bywają takie sytuacje, że i Mediana sobie nie poradzi. W czym rzecz? Dowiesz się w następnym dziale.<br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="DITH"></a>
<br>








<span class="style-dzial">&#10074; DITHERING</span><br>
<br>
Bardzo często, zwłaszcza w przypadku początkujących adeptów astrofotografii, obraz w czasie sesji przemieszcza się po kadrze ...
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-01-anim.gif" border="0" alt=""><br>
<br>
... jednak gdy mamy do czynienia z zaawansowanymi astrofotografami, a zwłaszcza tymi, którzy stosują Guiding, obraz potrafi przez całą noc tkwić nieruchomo w kadrze piksel w piksel.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-02-anim.gif" border="0" alt=""><br>
<br>
Ktoś by mógł stwierdzić, że to przecież dobrze, gdy fotografowany rejon nieba nie lata nam po kadrze, nie stracimy szerokości pola widzenia (FOV - field of view). Ale ... istnieje wiele wad sensorów, których trzymanie w jednym miejscu względem kadru nie jest wskazane. Wybitnym przedstawicielem tych szkodników są hot piksele.<br>
<br>
Kuriozalnie wtedy jest o wiele korzystniej, gdy sytuacja wygląda tak ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-03-anim.gif" border="0" alt=""><br>
<br>
... niż tak.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-04-anim.gif" border="0" alt=""><br>
<br>
<hr style="border: 0px; background: #CFD1D6; height: 1px;">
<br>
Rozłóżmy to na czynniki pierwsze.<br>
<br>
1. Gdy sytuacja wygląda tak ...
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-03-anim.gif" border="0" alt=""><br>
<br>
... to wynik stackowania części wspólnej obrazów za pomocą algorytmu - średnia (Average), będzie co prawda taki ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-05.png" border="0" alt=""><br>
<br>
... ale już po zastosowaniu mediany (Median), będzie następujący.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-06.png" border="0" alt=""><br>
<br>
A dlaczego? Wyjaśni poniższa animacja.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/05-Basics-Stacking--Patterns-08-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/05-Basics-Stacking--Patterns-08-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
Dzięki rozrzuconej pozycji hot pikseli udało nam się uniknąć po nich śladów.<br>
<br>
<hr style="border: 0px; background: #CFD1D6; height: 1px;">
<br>
2. Dla odmiany, gdy sytuacja wygląda tak ...
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-04-anim.gif" border="0" alt=""><br>
<br>
... to wynik stackowania obrazów i średnią (Average) i medianą (Median), niestety będzie taki ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-07.png" border="0" alt=""><br>
<span class="style-br">.</span><br>
... hot piksele jak były, tak są.<br>
<br>
A dlaczego? Wyjaśni poniższa animacja.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-30-anim.gif" border="0" alt=""><br>
<span class="style-br">.</span><br>
<a href="images/Basics_Stacking/06-Basics-Stacking--Dithering-30-video.webm" target="_blank" alt="">
<span class="style-wersja"><u>WERSJA VIDEO</u></span></a><br>
<br>
I tu docieramy do sedna niniejszego działu, czyli DITHERINGU. Co zrobić, jeśli ma się wszystko na tip-top, ale trzeba jednak wprowadzić pewien element migrowania kadru? Przecież nie można pozwolić na przypadkowe ucieczki kadru, zresztą, w przypadku guidingu ciężko o takie. Pomyślano i wymyślono, tak powstał DITHERNG, czyli zaplanowana migracja kadru mająca na celu pozyskanie korzyści wynikających z migracji kadru.<br>
Co jakiś czas, zestaw guidujący przemieszcza kadr o wyznaczoną liczbę pikseli w wyznaczonym kierunku, na tyle małym, aby nie tracić zbyt wiele z pola widzenia, ale na tyle dużym, aby uzyskać dostateczne przemieszczanie się fotografowanych obiektów względem stałych artefaktów sensora.<br>
<br>
W uproszczonym zakresie ideę zagadnienia zaprezentuje poniższa animacja. O odległości migracji decydujecie Wy, deklarując odpowiednie parametry w aplikacji guidującej, lub ręcznie, pilotem.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-08-anim.gif" border="0" alt=""><br>
<br>
Znikoma wartość migracji na prezentacji wynika z jej poglądowego charakteru, w rzeczywistości stosuje się większe odległości.<br>
<span class="style-br">.</span><br>
Wycinek kadru.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-08-anim.gif" border="0" alt=""><br>
<br>
I choć, co prawda, wynik stackowania z takiej akwizycji, za pomocą średniej (Average), nadal będzie taki ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-09.png" border="0" alt=""><br>
<br>
... to już po zastosowaniu mediany (Median), będzie następujący.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-frame-10.png" border="0" alt=""><br>
<br>
Stosując Dithering, mamy pełną kontrolę nad kadrem, a jednocześnie korzystamy z dobrodziejstw algorytmu Mediana (Median), przy stackowaniu, pozbywając się niektórych niedoskonałości sensora.<br>
<br>
Na koniec, gdyby kogoś zastanawiał dziwny układ hot pikseli ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/06-Basics-Stacking--Dithering-20-anim.gif" border="0" alt=""><br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="DRIZ"></a>
<br>








<span class="style-dzial">&#10074; DRIZZLE</span><br>
<br>
Drizzle to algorytm opracowany przez NASA dla teleskopu Hubble'a i mający na celu odzyskanie niewystarczająco próbkowanych danych. Aby Drizzle zadziałało, należy mieć niedostateczne próbkowanie, znaczną ilość obrazów, oraz dość silny kontrast detalu ukryty w pojedynczych pikselach.<br>

<br>
Opowieść o Drizzle zaczniemy od zagadnienia NADPRÓBKOWANIA i PODPRÓBKOWANIA.<br>
<br>
Wyobraź sobie, że obrazek z lewej strony  to rozdzielczość Twojego teleskopu, a obrazek z prawej strony, to piksele sensora kamery/aparatu. Twoim zadaniem jest wrysować obraz  z lewej strony, w tym samym rozmiarze, w ramki z prawej strony.<br>
Na każdy kwadrat rozdzielczości przypadają 2x2 kwadraty pikseli.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-01a.png" border="0" alt=""><br>
<br>
Gotowe. NADPRÓBKOWANIE mamy wtedy, gdy rozdrabniamy coś, nie zyskując na tym nic.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-01b.png" border="0" alt=""><br>
<br>
Dla odmiany ...<br>
<span class="style-br">.</span><br>
Wyobraź sobie, że obrazek z lewej strony, to rozdzielczość Twojego teleskopu, a obrazek z prawej strony, to piksele sensora kamery/aparatu. Twoim zadaniem jest wrysować obraz  z lewej strony, w tym samym rozmiarze, w ramki z prawej strony.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-02a.png" border="0" alt=""><br>
<br>
Gotowe. PODPRÓBKOWANIE mamy wtedy, gdy musimy drobniejszy detal namalować na większych komorach, tracąc część informacji. Nie da się piksela z większej rozdzielczości wrysować w mniejszą rozdzielczość, piksel to piksel, nie może być częściowo jakiś, a w drugiej części inny, piksel jest niepodzielny. Puste rogi przepadły.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-02b.png" border="0" alt=""><br>
<br>
<br>
Teraz inna kwestia, którą do zrozumienia Drizzle trzeba znać i rozumieć.<br>
<br>
W grafice jest tak, że gdy obraz o większej rozdzielczości ma być odwzorowany w mniejszej rozdzielczości, to w miarę wnikania jasnego detalu na piksel, on jaśnieje. Nie można większego piksela podzielić na cztery, ale można nie czynić go od razu całkowicie białym, ratując w ten sposób część informacji o wniknięciu czegoś w jego obszar w jakimś stopniu.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-03-anim.gif" border="0" alt=""><br>
<br>
Drizzle to wie i obserwując przebieg zdarzeń, odzyskuje potem informację zawartą w kolorze, wrysowując ją w gęstszą czarno-białą siatkę.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-04-anim.gif" border="0" alt=""><br>
<br>
Konieczny jest ruch obrazu na pikselach, z jednego obrazka Drizzle nic nie wykombinuje, bo skąd ma wiedzieć, że nie ma z sytuacją pokazaną poniżej?<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-05.png" border="0" alt=""><br>
<br>
Teraz to samo, ale w dwóch wymiarach. Na początek skupcie swoją uwagę na niebieskiej ramce.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-06-anim.gif" border="0" alt=""><br>
<br>
Łatwo doświadczyć niniejszego zjawiska, obserwując poniższe nagranie. Drizzle wyłapie widoczną poniżej subpikselową migrację detalu.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-10-anim.gif" border="0" alt=""><br>
<br>
Nawet gołym okiem widać jak w ruchu, ze strzępów, próbują się przebić całe litery i słowa. Drizzle wyłapuje to przenikanie obiektów między pikselami i składa je w całość o większej rozdzielczości.<br>
<br>
Przykład. Materiał PODPRÓBKOWANY.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-11.png" border="0" alt=""><br>
<br>
Przykład. Materiał NADPRÓBKOWANY.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/07-Basics-Stacking--Drizzle-12.png" border="0" alt=""><br>
<br>
<br>
Chcesz doświadczyć Drizzle empirycznie? Polecam moje <a href="Test_Drizzle.html" ><span class="style-link"><u>OPRACOWANIE</u></span></a>.<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="NOR"></a>
<br>








<span class="style-dzial">&#10074; NORMALIZACJA</span><br>
<br>
Stackując obrazy pragniemy utrwalić fotografowany obiekt, pozbywając się różnic pomiędzy poszczególnymi obrazami wynikających z ułomności układu obrazującego. Jednak gdy poszczególne obrazy różnią się między sobą w sposób niestanowiący ani informacji z fotografowanego obiektu, ani z ułomności układu obrazującego, algorytm stackujący nie wie, czy to jest coś, co stanowi informację, czy anomalię, stackując bezwiednie poszczególne piksele, doznaje niepotrzebnych odchyleń wyników końcowych. Takimi odchyłkami mogą być odmienne jasności poszczególnych sesji wynikające z różnego tła nieba zależnie od fazy Księżyca, mgły, cirrusa. Różna jasność obrazów z poszczególnych sesji zaburza proces stackowania mieszając się między informację z obrazowanego obiektu a anomalie układu obrazującego, dlatego wymyślono, aby w procesie normalizacji dokonywać na wstępie ujednolicania wszystkich obrazów do jednego poziomu, aby dopiero potem przystąpić do właściwego stackowania ich pikseli.<br>
<br>
Pięć idealnych obrazowań pozbawionych wad.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-01.png" border="0" alt=""><br>
<br>
Pięć idealnych obrazowań obarczonych różnicą jasności stanowiących cel dla procesu normalizacji.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-02.png" border="0" alt=""><br>
<br>
Pięć obrazowań obarczonych wadami układu obrazującego.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-03.png" border="0" alt=""><br>
<br>
Pięć obrazowań obarczonych wadami układu obrazującego oraz różnicą jasności.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-04.png" border="0" alt=""><br>
<br>
W wyniku normalizacji pozbyliśmy się różnicy jasności i pozostały nam jedynie wady układu obrazującego.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-05.png" border="0" alt=""><br>
<br>
Następnie w wyniku stackowania pozbyliśmy się wad układu obrazującego i uzyskaliśmy obraz (stack) zawierający informację pierwotną.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-06.png" border="0" alt=""><br>
<br>
Stackując obrazy obarczone wadami układu obrazującego oraz różnicą jasności, bez zastosowania normalizacji, za pomocą AVERAGE - Średnia, uzyskamy taki wynik. Ot, jaśniejszy  stack.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-07.png" border="0" alt=""><br>
<br>
Ale gdy do stackowania obrazów obarczonych wadami układu obrazującego oraz różnicą jasności, bez zastosowania normalizacji, zastosujemy algorytm MEDIAN - Mediana, różnice jasności poszczególnych stackowanych obrazów wypaczą końcowe wyniki dla poszczególnych pikseli.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-08.png" border="0" alt=""><br>
<br>
A przecież stackując obrazy algorytmem MEDIAN - Mediana, obarczone wadami układu obrazującego, ale pozbawione różnicy jasności, z uwagi na zastosowanie normalizacji, możemy uzyskać poniższy wynik.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/08-Basics-Stacking--Normalization-09.png" border="0" alt=""><br>
<br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="KAL"></a>
<br>







<span class="style-dzial">&#10074; KALIBRACJA</span><br>
<br>
W tym dziale spróbuję zaprezentować w najprzystępniejszy sposób ideę kalibracji stosowanej w astrofotografii.<br>
<br>
Są sobie piksele sensora ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-01.png" border="0" alt=""><br>
<br>
<br>
... idealnie &#34;równe&#34;, odczytane, nie posiadają żadnych &#34;naleciałości&#34; ani wartości ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-02.png" border="0" alt=""><br>
<br>
<br>
... pada na nie idealny sygnał ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-03-anim.gif" border="0" alt=""><br>
<br>
<br>
... powstaje idealny obraz.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-04.png" border="0" alt=""><br>
<br>
<br>
Niestety, świat rzeczywisty jest mniej wyidealizowany i każdy piksel sensora już na starcie posiada wrodzone odchyłki, dochodzą do tego też inne kwestie w czasie akwizycji, wynik jest taki, że zaczynamy &#34;zbieranie światła na nierównym stole&#34; ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-05-anim.gif" border="0" alt=""><br>
<br>
Jeszcze nie zebraliśmy ani jednego fotonu, a już mamy &#34;bagaż&#34; gwarantowanych odchyłek.<br>
<br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-05.png" border="0" alt=""><br>
<span class="style-br">.</span><br>
<br>
<br>
Gdy do takiego obarczonego już pewnym niepożądanym &#34;bagażem&#34; podkładu, dodamy nasz idealny obraz ...<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-06-anim.gif" border="0" alt=""><br>
<br>
<br>
 ... otrzymamy poniższy wynik.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-07.png" border="0" alt=""><br>
<br>
<br>
Ale skoro tak się składa, że za pomocą klatek kalibracyjnych BIAS-DARK-FLAT jesteśmy w stanie ustalić wartość naszych odchyłek, to istnieje sposobność, aby ją odjąć od końcowego obrazu i odzyskać pierwotną informację.<br>
<div align="right"><span class="style-anim">| animacja GIF |</span><br></div>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-08-anim.gif" border="0" alt=""><br>
<br>
<br>
<hr>
<br>
Próbując temat ugryźć jeszcze inaczej, przywołując klatki kalibracyjne Bias, Dark, Flat.<br>
<br>
- <strong>Bias</strong> wykonujemy z czasem minimalnym.<br>
<br>
Przykładowy BIAS i jego umowna prezentacja.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09xBasics-Stacking--Calibration-Bias.png" border="0" alt=""><br>
<br>
<br>
- <strong>Dark</strong> wykonujemy z czasem ekspozycji - usuwa ampglow, szum o stałym wzorze i hot piksele.<br>
<br>
Przykładowy DARK i jego umowna prezentacja.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09x-Basics-Stacking--Calibration-Dark.png" border="0" alt=""><br>
<br>
<br>
- <strong>Flat</strong> wykonujemy z czasem dobranym do ADU - usuwa niejednorodne oświetlenie sensora, winietowanie, paprochy na okienku kamery.<br>
<br>
Przykładowy FLAT i jego umowna prezentacja.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09x-Basics-Stacking--Calibration-Flat.png" border="0" alt=""><br>
<br>
<br>
Teraz przykład.<br>
<br>
W idealnych warunkach na matrycę pada jednorodny obraz idealnie gładkiego tła nieba. 
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-10.png" border="0" alt=""><br>
<br>
Uzyskujemy idealnie gładki obraz.
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-11.png" border="0" alt=""><br>
<br>
Ale w życiu realnym tak dobrze nie jest, tam już czekają Bias-owe ułomności obrazowania.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-12.png" border="0" alt=""><br>
<br>
Do kompletu meldują się ułomności Dark-owe.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-13.png" border="0" alt=""><br>
<br>
Na koniec meldują się ułomności Flat-owe.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-14.png" border="0" alt=""><br>
<br>
I gdy się to na siebie wszystko nałoży ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-15.png" border="0" alt=""><br>
<br>
... przybyły gładki obraz nieba zastaje nieciekawą sytuację ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-16.png" border="0" alt=""><br>
<br>
... efekt mamy poniżej.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-17.png" border="0" alt=""><br>
<br>
Ale my znamy wartość zbędnego bałaganu.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-18.png" border="0" alt=""><br>
<br>
Wystarczy więc od tego ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-19.png" border="0" alt=""><br>
<br>
... odjąć to ...<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-20.png" border="0" alt=""><br>
<br>
... i zostaje nam, co należy !<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/09-Basics-Stacking--Calibration-21.png" border="0" alt=""><br>
<br>


<br>
Na tym właśnie najprościej ujmując, polega kalibracja.<br>
<br>
O kalibracji obrazów samej w sobie nie będę pisał, jest w sieci trylion poradników na ten temat, moim celem było w najprostszy obrazowy sposób ukazać ideę samego zagadnienia. :)<br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;"><a name="0-65535"></a>
<br>







<span class="style-dzial">&#10074; OBRAZ 16bit - od 0 do 65535 - 1x1 pixel</span><br>
<br>
Na koniec ciekawostka...<br>
<span class="style-br">.</span><br>
Bawiąc się grafiką i próbując różnych rzeczy na pikselach, pojawi się z czasem konieczność posiadania obrazu gwarantującego pełną kontrolę nad poczynaniami. Pierwsze pragnienie będzie skromne, bo będzie dotyczyło obrazu o skali szarości 8 bit, czyli 256 pikseli o wartości od 0 do 255, i o ile tu nie ma wielkiej trudności, bo narysowanie ostatecznie takiego w Paint-cie zajmie popołudnie, o tyle wejście w posiadanie takiej grafiki w skali 16 bit, tj. skala szarości od 0 do 65535, nie jest już tak banalne. :)<br>
<br>
Chcesz być władcą pixeli? Zrób zbiórkę w szeregu i możesz się tak tytułować, żartuję... :)<br>
<br>
Poniżej rozpiska układu pikseli na gradiencie.<br>
<span class="style-br">.</span><br>
<img src="images/Basics_Stacking/11-Basics-Stacking--0-65535--01.png" border="0" alt=""><br>
<br>
Poniżej w linku grafika TIFF 16 bit, stworzona na potrzeby prób i testów, zawierająca 65 rzędów z pikselami o wartościach: 0-999, 1000-1999, 2000-2999, ... , 64000-64999, 65000-65535.<br>
<br>
Kto nie wierzy, pipeta 16 bit w rękę i próbuje. :)<br>
<br>
Grafika do pobrania <a href="images/Basics_Stacking/11-Basics-Stacking--16bit--0-65535--hamal.tiff" ><span class="style-link">TUTAJ</span></a>.<br>
<br>
<br>
<a href="#WD" ><span class="style-link">WRÓĆ DO WYKAZU DZIAŁÓW &#10148;</span></a><br>
<br>
<hr style="border: 0px; background: #DCB620; height: 3px;">
<br>
<br>



<div align="center">
<span class="style-prop">MOGĄ CIĘ ZAINTERESOWAĆ RÓWNIEŻ</span><br>
<hr style="border: 0px; background: #66FFFF; height: 2px;">

<a href="Basics_Kamery.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Basics_Kamery_xl.png">
  <img src="images/MCZR/Basics_Kamery_s.png" alt="">
</picture>
</a><a href="Basics_Filtry.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Basics_Filtry_xl.png">
  <img src="images/MCZR/Basics_Filtry_s.png" alt="">
</picture>
</a><a href="Test_mono_vs_color.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Test_mono_vs_color_xl.png">
  <img src="images/MCZR/Test_mono_vs_color_s.png" alt="">
</picture>
</a><a href="Test_Drizzle.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Test_Drizzle_xl.png">
  <img src="images/MCZR/Test_Drizzle_s.png" alt="">
</picture>
</a>

<hr style="border: 0px; background: #66FFFF; height: 2px;">
</div>



<br>
<br>
</span>


<div align="center">
<a href="index.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/Astrofotografia-xl.png">
  <img src="images/Astrofotografia.png" alt="Astrofotografia">
</picture>
</a>
</div>


<br>

</td>
</tr>
</table>

</td>
</tr>
<tr><td width="100%" height="1" bgcolor="#000000"></td></tr>
<tr><td width="100%" height="2" bgcolor="#CFD1D6"></td></tr>
<tr>
<td width="100%" height="36" align="center" bgcolor="#202228">
<div style="position: absolute;"><a href="https://info.flagcounter.com/U43"><img src="https://s01.flagcounter.com/mini/U43/bg_848792/txt_666666/border_848792/flags_0/" alt="Flag Counter" border="0"></a></div>
<div style="position: absolute;"><img src="images/FCH4.png" alt="" border="0"></div>
<span class="style-stopka">&copy;Copyright 2024 HAMAL</span><br>
</td>
</tr>
</table>

</body>
</html>