<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Czyli jak działa Drizzle i jak zwiększa rozdzielczość">
<meta name="keywords" content="Drizzle, rozdzielczość, test, hamal">
<title>DRIZZLE test - HAMAL</title>
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="logo.ico">

<style type="text/css">
<!--
body {
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	background-color: #2D303A;
}
.style1 {
	color: #222429;
	font-family: Verdana;
	font-size: 14px;
}
.style-link {
	color: #CFD1D6;
	font-family: Verdana;
	font-size: 14px;
}
.style-Hbr {
	color: #2D303A;
	font-family: Verdana;
	font-size: 9px;
}
.style-br {
	color: #858893;
	font-family: Verdana;
	font-size: 4px;
}
.style-prop {
	color: #66FFFF;
	font-family: Verdana;
	font-size: 14px;
	letter-spacing:3.0pt
}
.style-stopka {
	color: #B3B6BD;
	font-family: Arial;
	font-size: 12px;
	letter-spacing:4.0pt
}

a:link {
	text-decoration: none;
}
a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}
-->
</style>

</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="100%" height="120" align="center" bgcolor="#2D303A">
<span style='font-size:24.0pt;font-family:"Book antiqua";color:#B3B6BD;letter-spacing:6.0pt'>DRIZZLE - empirycznie</span><br>
<span class="style-Hbr">.</span><br>
<span style='font-size:18.0pt;font-family:"Book antiqua";color:#B3B6BD;letter-spacing:4.0pt'>czyli o tym, jak Drizzle odzyskuje utraconą rozdzielczość</span>
</td>
</tr>
<tr><td width="100%" height="2" bgcolor="#FFD135"></td></tr>
<tr><td width="100%" height="1" bgcolor="#000000"></td></tr>
<tr>
<td width="100%" align="center" bgcolor="#858893">

 

<div align="center"><span class="style-link">15-09-2019</span></div>

<table border="0" cellpadding="20" cellspacing="0">
<tr>
<td width="960" style="text-align: justify">
<span class="style1">
<br>
<br>
Jak działa Drizzle i czy działa w ogóle ? Zobaczcie :)<br>
<br>
<br>
&nbsp; &nbsp; <strong>WSTĘP</strong><br>
<br>
Kto się pokusi o odczytanie tego napisu?<br>
<br>
<img src="./images/Test_Drizzle/Test_Drizzle_01.png"><br>
<br>
<br>
3000 klatek pó&#378niej...<br>
<br>
<img src="./images/Test_Drizzle/Test_Drizzle_02.png"><br>
<br>
<br>
Z czym mamy do czynienia?<br>
<br>
Pierwszy obrazek to jedna klatka/jedno zdjęcie napisu w rozdzielczości tak niskiej, że uniemożliwiającej odczytanie liter. Drugi obrazek to stack Drizzle 3000 zdjęć podobnych do pierwszego, tylko że przy akwizycji/fotografowaniu każde kolejne z nich było o odrobinkę przesunięte względem fotografowanego napisu, więc mimo że napis nadal był na nich nieczytelny, Drizzle stackując rozpoznawało te mikro przesunięcia o pół, o ćwierć pixela i tak wyrównywało względem siebie 3000 klatek, że wydobyło z nich informacje o rzeczywistej naturze fotografowanych kształtów.<br>
<br>
&nbsp; &nbsp; <strong>OPIS</strong><br>
<br>
Sprzęt:<br>
<br>
Teleskop Bresser Messier 76/350<br>
<br>
Do takich testów należy bezwzględnie stosować optykę zwierciadlaną z uwagi na fakt braku aberracji chromatycznej.<br>
<br>
Kamerka Atik Titan CCD<br>
<br>
Kamerka posiada możliwość Bin-owania pixeli, czyli łączenia ich w jeden większy. I tak dla przykładu Bin2 to kwadrat 2 na 2 pixele, czyli łącznie 4. Bin3 to kwadrat 3 na 3 pixele, czyli łącznie 9. Bin4 to kwadrat 4 na 4 pixele, czyli łącznie 16, powstaje nam jeden superwielki pixel składający się z 16 pixeli, ale pracujących jako jeden. Czemu o tym piszę? Bo robiąc poniższy eksperyment, miałem dwie opcje. Opcja pierwsza. Zrobić zdjęcia napisu z odległości umożliwiającej kamerce ładne pokazanie detalu liter, a następnie odsuwać ją tak długo aż napis stanie się dla niej zbyt mały i literki będą widoczne jak na pierwszym obrazku niniejszego opracowania. Opcja druga. Kamerkę mieć cały czas w tej samej odległości od fotografowanego napisu a zmieniać parametr Bin, w ten sposób symulować zmianę stosunku rozmiaru napisu do rozmiaru pixeli. Wybrałem opcję drugą, łatwiej było modelować test. Wartość Bin musiałem dobrać tak, aby była na tyle wysoka, by fotografowany napis został solidnie graficznie upośledzony w zakresie odwzorowania, ale jednocześnie nie chcąc przesadzić, na tyle niskie, by była jakaś szansa dla Drizzle coś zdziałać. Tą wartością okazało się bin 5, dlatego ją zastosowałem i jak już widzieliście na pierwszym obrazku, czyni ono sporą demolkę w kształcie liter.<br>
<br>
Anatomia badania: Teleskop z podpiętą doń kamerką leży na biurku i fotografuje z pewnej odległości etykietę z napisami.<br>
<br>
Na początek poniżej obraz z kamerki z wartością Bin 1, abyście mogli zobaczyć, na co patrzymy i poczuli zaraz różnicę. Rozdzielczość przyzwoicie wywiązuje się z odwzorowania obrazu.<br>
<br>
Obraz w powiększeniu 1500%<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_03.png"><br>
<br>
<br>
Poniżej, dla porównania ten sam obraz, ale z wartością Bin 5 i to właśnie dla testu Drizzle taki obraz jest potrzebny, no bo przecież zadaniem rzeczonego Drizzle jest odzyskiwać dla nas (utracone przez niedobór rozdzielczości obrazowania) detale :)<br>
<br>
Obraz w powiększeniu 1500%<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_04.png"></img><br>
<br>
<br>
Poniżej przykładowa klatka w skali 1:1 (100%)<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_05.png"><br>
<br>
Oraz w powiększeniu 700%<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_05_700.png"></img><br>
<br>
Jednak, aby Drizzle miało z czego czerpać informacje, nie wystarczy mu zaaplikować 3000 identycznych klatek/zdjęć jak powyżej, należy mu zapewnić migrację obrazu na poziomie subpixelowym. W naturze ten efekt uzyskujemy w sumie niechcący, głównie poprzez niedokładności prowadzenia teleskopu oraz seeing, ja w moim teście tak drobną migrację obrazu uzyskałem uciskając delikatnie biurko z zestawem optycznym. Przykład poniżej.<br>
<br>
Powiększenie 400% | subpixelowa migracja obrazu<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_Anim_Subpix.gif"><br>
<br>
<br>
Taki materiał wrzucamy do programu stackujacego obsługującego funkcję Dizzle, aby uzyskać wynik jak poniżej.<br>
<br>
Drizzle 2x<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_06.png"></img><br>
<br>
Prawda, że Drizzle ładnie się spisało :) Wystarczy porównać litery i słowa z trzema poprzednimi obrazkami.<br>
<br>
Powiększmy, aby lepiej widzieć detale.<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_06_350.png"><br>
<br>
Konkluzja? Drizzle naprawdę działa !!<br>
<br>
Drizzle wymyślono dla zwiększenia rozdzielczości obrazów HST ponad natywną rozdzielczość zestawu, amatorzy najczęściej stosują je do nadpróbkowanych obrazów (czyli takich gdzie rozdzielczość matrycy przekracza rozdzielczość podawanego obrazu), co nie było założeniem twórców, ale jak widać w powyższym teście, pracując zgodnie ze swoim przeznaczeniem na podpróbkowanym materiale (czyli takim gdzie rozdzielczość matrycy jest mniejsza niż rozdzielczość podawanego obrazu) w teście dla utrudnienia jest dużo mniejsza, swoją rolę czyni należycie :)<br>
<br>
Obrazy poddawane temu algorytmowi powinny wyglądać następująco ...<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_09.png"><br>
<br>
a nie tak ...<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_07.png"><br>
<br>
<br>
A co by było, gdyby, zestackować prezentowany materiał bez funkcji Drizzle? Jaki będzie efekt?<br>
<br>
Ano taki.<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_08.png"><br>
<br>
W powiększeniu 700%.<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_08_700.png"><br>
<br>
Dla lepszego porównania ponownie wynik z zastosowania algorytmu Drizzle.<br>
<span class="style-br">.</span><br>
<img src="./images/Test_Drizzle/Test_Drizzle_06_350.png"><br>
<br>
<br>
A skoro już w dziedzinie "pod" i "nad" próbkowania oraz rozdzielczości jesteśmy, warto, abyście rzucili okiem  <a href="./double_multiple_star\Rozdzielczosc.html" target="_blank"><span class="style-link"><u>TU</u></span></a>.<br>
<br>
Na koniec<br>
<br>
Wiele razy używałem zwrotu, migracja subpixelowa, czyli taka, która odbywa się w przedziale ułamków pixeli, taka wymagana jest do skutecznego zastosowania Drizzle. Polega ona na przesunięciach obrazu o np: 0,3 pixela; 0,7 pixela; 1,2 pixela; 2,1 pixela; 3,9 pixela, nie musi ona koniecznie oznaczać wartości 0,1 pixela, 0,3 pixela, 0,7 pixela, 0,5 pixela, 0,4 pixela.<br>
I to jest właśnie taka migracja jak poniżej, wcześniej już Wam prezentowana.<br>
<br>
<img src="./images/Test_Drizzle/Test_Drizzle_Anim_Subpix.gif" width="100%"><br>
<br>
Ale skąd wiadomo, że ona jest subpixelowa, a nie unipixelowa? Przecież Wy tam widzicie, jak skacze po całych pixelach jak nic :)<br>
<br>
A no stąd wiadomo, że gdyby ona była unipixelowa i wynosiła np 1,3,1,2,4,2,3 to wynik migrowania obrazu by był taki jak poniżej.<br>
Taka pełnopixelowa migracja, jak widzicie, nie wnosi nic nowego, jedynie odwzorowuje ten sam upośledzony rozdzielczościowo układ obraz-pixele.<br>
<br>
<img src="./images/Test_Drizzle/Test_Drizzle_Anim_Unipix.gif" width="100%"><br>
<br>
<br>
<div align="center">

<span class="style-prop">MOGĄ CIĘ ZAINTERESOWAĆ RÓWNIEŻ</span><br>
<hr style="border: 0px; background: #66FFFF; height: 2px;">

<a href="Basics_Filtry.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Basics_Stacking_xl.png">
  <img src="images/MCZR/Basics_Stacking_s.png" alt="">
</picture>
</a><a href="Test_mono_vs_color.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Test_mono_vs_color_xl.png">
  <img src="images/MCZR/Test_mono_vs_color_s.png" alt="">
</picture>
</a><a href="Basics_Kamery.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Basics_Kamery_xl.png">
  <img src="images/MCZR/Basics_Kamery_s.png" alt="">
</picture>
</a><a href="Stack_of_Stacks.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/MCZR/Stack_of_Stacks_xl.png">
  <img src="images/MCZR/Stack_of_Stacks_s.png" alt="">
</picture>
</a>

<hr style="border: 0px; background: #66FFFF; height: 2px;">
</div>
<br>
<br>
</span>


<div align="center">
<a href="index.html">
<picture>
  <source media="(max-width: 1080px)" srcset="images/Astrofotografia-xl.png">
  <img src="images/Astrofotografia.png" alt="Astrofotografia">
</picture>
</a>
</div>


<br>

</td>
</tr>
</table>

</td>
</tr>
<tr><td width="100%" height="1" bgcolor="#000000"></td></tr>
<tr><td width="100%" height="2" bgcolor="#FFD135"></td></tr>
<tr>
<td width="100%" height="36" align="center" bgcolor="#2D303A">
<div style="position: absolute;"><a href="https://info.flagcounter.com/RnJ2"><img src="https://s11.flagcounter.com/mini/RnJ2/bg_2D303A/txt_4D5263/border_2D303A/flags_0/" alt="Flag Counter" border="0"></a></div>
<div style="position: absolute;"><img src="images/FCH1.png" alt="" border="0"></div>
<span class="style-stopka">&copy;Copyright 2019 HAMAL</span><br>
</td>
</tr>
</table>

</body>
</html>